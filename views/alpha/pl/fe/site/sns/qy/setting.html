<div id='viewSetting' class='col-md-12'>
    <div class='form-horizontal'>
        <div class='form-group'>
            <label class='col-md-2 control-label'>企业号应用名称</label>
            <div class='col-md-10'>
                <input type='text' class='form-control' ng-model='qy.title' tms-auto-update tms-wait=1000 tms-update="update('title')">
            </div>
        </div>
        <div class='form-group'>
            <label class='col-md-2 control-label'>CropId</label>
            <div class='col-md-10'>
                <input type='text' class='form-control' ng-model='qy.corpid' tms-auto-update tms-wait=1000 tms-update="update('corpid')">
                <p class="help-block">从微信企业号后台［设置］［权限管理］中获取。</p>
            </div>
        </div>
        <div class='form-group'>
            <label class='col-md-2 control-label'>Secret</label>
            <div class='col-md-10'>
                <input type='text' class='form-control' ng-model='qy.secret' tms-auto-update tms-wait=1000 tms-update="update('secret')">
                <p class="help-block">从微信企业号后台［设置］［权限管理］中获取。</p>
            </div>
        </div>
        <div class='form-group'>
            <label class='col-md-2 control-label'>Token</label>
            <div class='col-md-10'>
                <input type='text' class='form-control' ng-model='qy.token' tms-auto-update tms-wait=1000 tms-update="update('token')">
            </div>
        </div>
        <div class='form-group'>
            <label class='col-md-2 control-label'>EncodingAESKey</label>
            <div class='col-md-10'>
                <input type='text' class='form-control' ng-model='qy.encodingaeskey' tms-auto-update tms-wait=1000 tms-update="update('encodingaeskey')">
            </div>
        </div>
        <div class='form-group'>
            <label class='col-md-2 control-label'>URL</label>
            <div class='col-md-10'>
                <p class='form-control' style='height:auto'>{{url}}</p>
                <p class="help-block">将URL拷贝到微信企业号管理平台中，执行验证操作。</p>
            </div>
        </div>
        <div class='form-group'>
            <label class='col-md-2 control-label'>连接成功</label>
            <div class='col-md-10'>
                <div class='checkbox' style='display:inline-block;width:48px'>
                    <label>
                        <input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model='qy.joined' disabled>
                    </label>
                </div>
                <button class='btn btn-success' ng-disabled="qy.joined==='Y'" ng-click="checkJoin()">
                    检查<span ng-show="stateOfCheckJoin.running">{{'('+stateOfCheckJoin.count+')'}}</span>
                </button>
                <button class='btn btn-default' ng-disabled="qy.joined==='N'" ng-click="reset()">重置</button>
                <p class="help-block">【检查】连接是否成功，成功后填写【AppId】和【AppSecret】并保存。</p>
            </div>
        </div>
        <div class='form-group'>
            <label class='col-md-2 control-label'>二维码</label>
            <div class='col-md-10'>
                <div style="width:182px;border:1px solid #CCC">
                    <div style="height:100px;text-align:center;padding-top:32px" ng-if="!qy.qrcode">
                        <button class='btn btn-default' ng-click='setQrcode();'><span class='glyphicon glyphicon-picture'></span>选择图片</button>
                    </div>
                    <div style='position:relative' ng-if="qy.qrcode&&qy.qrcode.length" ng-mouseenter='hover=true' ng-mouseleave='hover=false'>
                        <img name='pic' ng-src="{{qy.qrcode}}" width='180px' />
                        <button class='btn btn-default btn-sm' style='position:absolute;top:2px;left:2px' ng-if='hover' ng-click='setQrcode();'>
                            <span class='glyphicon glyphicon-picture'></span>
                        </button>
                        <button class='btn btn-default btn-sm' style='position:absolute;top:2px;right:2px' ng-if='hover' ng-click='removeQrcode();'>
                            <span class='glyphicon glyphicon-trash'></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class='form-group'>
            <label class='col-md-2 control-label'>应用ID</label>
            <div class='col-md-10'>
                <input type='text' class='form-control' ng-model='qy.agentid' tms-auto-update tms-wait=1000 tms-update="update('agentid')">
            </div>
        </div>
        <div class='form-group'>
            <label class='col-md-2 control-label'>应用名称</label>
            <div class='col-md-10'>
                <input type='text' class='form-control' ng-model='qy.public_id' tms-auto-update tms-wait=1000 tms-update="update('public_id')">
            </div>
        </div>
        <div class='form-group'>
            <label class='col-md-2 control-label'>高级接口</label>
            <div class='col-md-10'>
                <table class='table table-bordered'>
                    <thead>
                        <tr>
                            <th>名称</th>
                            <th>开通</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>更新通讯录</td>
                            <td>
                                <input type='checkbox' ng-model='qy.can_updateab' ng-true-value="'Y'" ng-false-value="'N'" ng-change="update('can_updateab')">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
