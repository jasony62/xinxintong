<div id='setting-view'>
    <div class='form-horizontal list-group-item' ng-repeat='s in skus'>
        <button class="btn btn-default" ng-click='removeSku($index, s)'><i class='fa fa-remove'></i></button>
        <button class='btn btn-success' ng-show="s.active==='N'"  ng-click='activateSku(s)'>上线</button>
        <button class='btn btn-success' ng-show="s.active==='Y'" ng-click='deactivateSku(s)'>下线</button>
        <div class='price form-group'>
            <label class='col-md-2 control-label'>定义名称</label>
            <div class='col-md-10'>
                <p class='form-control-static' ng-bind='s.cateSku.name'></p>
            </div>
        </div>
        <div class='validity form-group' ng-if="s.cateSku.has_validity==='Y'">
            <label class='col-md-2 control-label'>有效期（开始）</label>
            <div class='col-md-10'>
                <tms-datepicker tms-title='开始日期' tms-date='s.validity_begin_at' tms-obj='s' tms-state='validity_begin_at'></tms-datepicker>
            </div>
        </div>
        <div class='validity form-group' ng-if="s.cateSku.has_validity==='Y'">
            <label class='col-md-2 control-label'>有效期（结束）</label>
            <div class='col-md-10'>
                <tms-datepicker tms-title='开始日期' tms-date='s.validity_end_at' tms-obj='s' tms-state='validity_end_at'></tms-datepicker>
            </div>
        </div>
        <div class='price form-group' ng-if="s.cateSku.require_pay==='Y'">
            <label class='col-md-2 control-label'>价格（分）</label>
            <div class='col-md-10'>
                <input class='form-control' ng-model='s.price' tms-auto-update tms-wait=1000 tms-update="updateSku(s, 'price')">
            </div>
        </div>
        <div class='unlimited-quantity form-group'>
            <label class='col-md-2 control-label'>无数量限制</label>
            <div class='col-md-10'>
            <label class='checkbox-inline'>
                <input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model='s.unlimited_quantity' ng-change="updateSku(s, 'unlimited_quantity')">
            是</label>
            </div>
        </div>
        <div class='quantity form-group' ng-show="s.unlimited_quantity==='N'">
            <label class='col-md-2 control-label'>数量</label>
            <div class='col-md-10'>
                <input class='form-control' ng-model='s.quantity' tms-auto-update tms-wait=1000 tms-update="updateSku(s, 'quantity')">
            </div>
        </div>
        <div class='required form-group'>
            <label class='col-md-2 control-label'>必选项</label>
            <div class='col-md-10'>
            <label class='checkbox-inline'>
                <input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model='s.required' ng-change="updateSku(s, 'required')">
            是</label>
            </div>
        </div>
    </div>
    <button class='btn btn-default' ng-click='addSku()'><span class='glyphicon glyphicon-plus'>添加</span></button>
    <script type="text/ng-template " id="cateSkuSelector.html ">
        <div class="modal-header ">
            <button class="close " type="button " ng-click="close() ">×</button>
            <h5 class="modal-title ">选择库存定义</h5>
        </div>
        <div class="modal-body ">
            <form class="form-horizontal">
                <div class="form-group ">
                    <label class="col-md-2 control-label ">名称</label>
                    <div class="col-md-10 ">
                        <select class='form-control' ng-model='data.selected' ng-options='s.name for s in cateSkus'></select>
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-success" ng-disabled='!data.selected' ng-click="ok() ">确定</button>
        </div>
    </script>
</div>