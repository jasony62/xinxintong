<style>
    #stat .bg0{background: #fff;}
    #stat .bg1{background: #ccc;}
    #stat .operate_btn a{margin-right: 10px;}
    #stat .hidden{visibility: hidden;}
    #stat .visible{visibility: visible;}
</style>
<div ng-controller="ctrlStat" id="stat">
    <div class="row">
        <div class='col-md-3'>
            <div class='form-group'>
                <label>开始时间</label>
                <tms-datepicker class='tms-datepicker' tms-title='开始时间' tms-date='criteria.start' tms-state='start'></tms-datepicker>
            </div>
        </div>
        <div class='col-md-3'>
            <div class='form-group'>
                <label>结束时间</label>
                <tms-datepicker class='tms-datepicker' tms-title='结束时间' tms-date='criteria.end' tms-state='end'></tms-datepicker>
            </div>
        </div>
        <div class="col-md-3">
            <div class="form-group">
                <label>昵称筛选</label>
                <div class='input-group'>
                    <input type="text" ng-model="criteria.byUser" class="form-control">
                    <div class="input-group-btn">
                        <button class='btn btn-default' title="取消" ng-click="cancle()"><i class='glyphicon glyphicon-remove'></i></button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <button class='btn btn-default pull-right' style="margin-left:10px" ng-click='export()'>导出记录</button>
            <button class='btn btn-success pull-right' ng-click="list()">搜索</button>
        </div>
    </div>
    <div>
        <table class='table table-bordered table-striped pl-workspace'>
            <thead>
                <tr>
                    <th style='width:48px;'>序号</th>
                    <th>用户名</th>
                    <th style='width:120px;'>总阅读数</th>
                    <th style='width:120px;'>总分享数</th>
                    <th style='width:120px;'>总转发数</th>
                    <th style='width:150px;'>带来的二级阅读数</th>
                    <th style='width:120px;'>带来的二级人数</th>
                    <th style='width:200px;'>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr class="bg0" ng-repeat='spreader in spreaders'>
                    <td>{{(page.at-1)*page.size+$index+1}}</td>
                    <td>{{spreader.nickname}}</td>
                    <td ng-click="detail(spreader, 'read')"><a href="#">{{spreader.readNum}}</a></td>
                    <td ng-click="detail(spreader, 'share.timeline')"><a href="#">{{spreader.shareTNum}}</a></td>
                    <td ng-click="detail(spreader, 'share.friend')"><a href="#">{{spreader.shareFNum}}</a></td>
                    <td>{{spreader.attractReadNum}}</td>
                    <td>{{spreader.attractReaderNum}}</td>
                    <td>
                        <div class="operate_btn" ng-if="spreader.attractReaderNum!==0">
                            <a href="#" ng-click="open($event, spreader.userid)" title="展开"><i class="glyphicon glyphicon-chevron-down"></i></a>
                            <a href="#" class="hidden" ng-click="close($event)" title="收缩"><i class="glyphicon glyphicon-chevron-up"></i></a>
                            <a href="#" ng-click="export(spreader)" title="导出其下的子级记录"><i class="glyphicon glyphicon-export"></i></a>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <div ng-if="!spreaders" style='text-align:center'>点击“搜索”后，可返回结果</div>
        <div class='form-group form-inline'>
            <span style='height:34px;line-height:34px'>总数：{{page.total}}</span>
            <ul uib-pagination style="margin:0;vertical-align:bottom;cursor:pointer;float:right" ng-show="page.total>page.size" boundary-links="true" total-items="page.total" max-size="7" items-per-page="page.size" rotate="false" ng-model="page.at" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" ng-change="list()"></ul>
        </div>
    </div>
</div>