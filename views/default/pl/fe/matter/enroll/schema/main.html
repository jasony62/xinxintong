<div ng-controller="ctrlSchemaEdit">
    <div class="form-group">
        <label>题目ID</label>
        <input class='form-control' type='text' ng-model='activeSchema.id' ng-change="updSchema(activeSchema,'id')" readonly>
    </div>
    <div class="form-group">
        <label>题目类型</label>
        <select class='form-control' ng-model='editing.type' ng-change="changeSchemaType()">
            <option value='shorttext'>单行文本</option>
            <option value='longtext'>多行文本</option>
            <option value='single'>单选题</option>
            <option value='multiple'>多选题</option>
            <option value='score'>打分题</option>
            <option value='image'>上传图片</option>
            <option value='file'>上传文件</option>
            <option value='html'>描述说明</option>
            <option value='name'>姓名</option>
            <option value='mobile'>手机</option>
            <option value='email'>邮箱</option>
            <option value='date'>日期</option>
            <option value='location'>上传位置</option>
            <option value='phase'>项目阶段</option>
        </select>
    </div>
    <div class="form-group" ng-if="activeSchema.type==='member'">
        <select class='form-control' disabled ng-model='selectedMemberSchema.schema' ng-options='ms.title for ms in memberSchemas'>
            <option></option>
        </select>
        <select class='form-control' disabled ng-model='selectedMemberSchema.attr' ng-options='a.title for a in selectedMemberSchema.schema._schemas'>
            <option></option>
        </select>
    </div>
    <div class="form-group" ng-if="activeSchema.type==='score'">
        <label>分值范围</label>
        <input type='text' class='form-control' ng-model='activeSchema.range[0]' ng-change="updSchema(activeSchema,'range')">
        <input type='text' class='form-control' ng-model='activeSchema.range[1]' ng-change="updSchema(activeSchema,'range')">
    </div>
    <div class="form-group" ng-if="['single','phase'].indexOf(activeSchema.type)!==-1">
        <label class="radio-inline">
            <input type='radio' name='component' value='R' ng-model='activeConfig.component' ng-change="updConfig('component')">单选钮</label>
        <label class="radio-inline">
            <input type='radio' name='component' value='S' ng-model='activeConfig.component' ng-change="updConfig('component')">下拉框</label>
    </div>
    <div class="form-group" ng-if="(['single','phase'].indexOf(activeSchema.type)!==-1&&activeConfig.component==='R')||activeSchema.type==='multiple'">
        <label class="radio-inline">
            <input type='radio' name='align' value='V' ng-model='activeConfig.align' ng-change="updConfig('align')">垂直排列</label>
        <label class="radio-inline">
            <input type='radio' name='align' value='H' ng-model='activeConfig.align' ng-change="updConfig('align')">水平排列</label>
    </div>
    <div class="checkbox" ng-if="'html'!==activeSchema.type">
        <label>
            <input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model='activeConfig.required' ng-change="updConfig('required')">必填</label>
    </div>
    <div class="checkbox" ng-show="['name','mobile','email','shorttext'].indexOf(activeSchema.type)!==-1">
        <label>
            <input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model='activeSchema.unique' ng-change="updSchema(activeSchema,'unique')">唯一</label>
    </div>
    <div class="checkbox" ng-show="'shorttext'===activeSchema.type">
        <label>
            <input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model='activeSchema.number' ng-change="updSchema(activeSchema,'number')">数值</label>
    </div>
    <div class="checkbox" ng-show="'shorttext'===activeSchema.type">
        <label>
            <input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model='activeSchema.history' ng-change="updSchema(activeSchema,'history')">参考已填数据</label>
    </div>
    <div class="checkbox" ng-show="app.scenario==='quiz'">
        <label>
            <input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model='activeSchema.requireScore' ng-change="updSchema(activeSchema,'requireScore')">作为考题</label>
    </div>
    <div class="checkbox">
        <label>
            <input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model='activeSchema.remarkable' ng-change="updSchema(activeSchema,'remarkable')">支持点评</label>
    </div>
    <div class="checkbox">
        <label>
            <input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model='activeSchema.shareable' ng-change="updSchema(activeSchema,'shareable')">共享内容</label>
    </div>
    <div class="form-group" ng-show="['image','file'].indexOf(activeSchema.type)!==-1">
        <label>限制数量（填0不限制）</label>
        <input type='text' class='form-control' ng-model='activeSchema.count' ng-change="updSchema(activeSchema,'count')">
    </div>
    <div class="form-group" ng-show="'Y'===activeSchema.requireCheck">
        <p class='help-block'>需要在【<span>{{assocAppName(activeSchema.fromApp)}}</span>】中检查</label>
    </div>
    <div ng-if="activeSchema.requireScore==='Y'">
        <!--设置分数-->
        <div class="form-group">
            <label>设置分数</label>
            <input class='form-control' type='text' ng-model='activeSchema.score' ng-change="updSchema(activeSchema,'score')">
        </div>
        <!--短文本设置参考答案-->
        <div class="form-group" ng-if="activeSchema.type==='shorttext'">
            <label>设置参考答案</label>
            <input class='form-control' type='text' ng-model='activeSchema.answer' ng-change="updSchema(activeSchema,'answer')">
        </div>
        <!--长文本设置参考答案或要求-->
        <div class="form-group" ng-if="activeSchema.type==='longtext'">
            <label>设置参考答案或要求</label>
            <textarea class='form-control' name="" id="" cols="10" rows="3" ng-model='activeSchema.answer' ng-change="updSchema(activeSchema,'answer')"></textarea>
        </div>
        <!--单选设置答案-->
        <ul class="form-group list-unstyled" ng-if="activeSchema.type==='single'">
            <li>
                <label>设置答案</label>
            </li>
            <li class="radio" wrap="radio" ng-repeat="op in activeSchema.ops">
                <label>
                    <input type="radio" name="{{activeSchema.id}}" value="{{op.v}}" ng-model="activeSchema.answer" ng-change="updSchema(activeSchema,'answer')" /><span>{{op.l}}</span></label>
            </li>
        </ul>
        <!--多选设置答案-->
        <ul class="form-group list-unstyled" ng-if="activeSchema.type==='multiple'">
            <li class="checkbox" wrap="checkbox" ng-repeat="op in activeSchema.ops">
                <label>
                    <input type="checkbox" ng-model="data[op.v]" ng-change="updSchemaMultiple(activeSchema,data[op.v])" /><span>{{op.l}}</span></label>
            </li>
        </ul>
    </div>
</div>
