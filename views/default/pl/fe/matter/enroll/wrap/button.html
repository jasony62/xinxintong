<div ng-controller="ctrlButtonWrap">
    <div class="form-group">
        <label>操作类型</label>
        <select class='form-control' ng-model='activeWrap.schema.name' ng-options='btn.n as btn.l for btn in buttons' ng-change="chooseType()"></select>
    </div>
    <div class="form-group">
        <label>显示为</label>
        <input type='text' class='form-control' ng-model='activeWrap.schema.label' ng-change="updWrap()">
    </div>
    <div class="form-group" ng-show="['closeWindow'].indexOf(activeWrap.schema.name)===-1">
        <label>操作后</label>
        <div ng-switch on="activeWrap.schema.name">
            <select class='form-control' ng-switch-when="submit" ng-model='activeWrap.schema.next' ng-change="updWrap()">
                <option value=''>不跳转</option>
                <option value='{{p.name}}' ng-repeat="p in nextPages">{{p.title}}</option>
                <option value='repos'>所有数据页</option>
                <option value='rank'>排行榜</option>
                <option value='score'>测验结果</option>
                <option value='_autoForward'>自动跳转</option>
                <option value='closeWindow'>关闭页面</option>
            </select>
            <select class='form-control' ng-switch-when="save" ng-model='activeWrap.schema.next' ng-change="updWrap()">
                <option value=''>不跳转</option>
                <option value='{{p.name}}' ng-repeat="p in nextPages">{{p.title}}</option>
            </select>
            <select class='form-control' ng-switch-when="addRecord" ng-model='activeWrap.schema.next' ng-change="updWrap()">
                <option value='{{p.name}}' ng-repeat="p in nextPages">{{p.title}}</option>
                <option value='closeWindow'>关闭页面</option>
            </select>
            <select class='form-control' ng-switch-when="editRecord" ng-model='activeWrap.schema.next' ng-change="updWrap()">
                <option value='{{p.name}}' ng-repeat="p in nextPages">{{p.title}}</option>
                <option value='closeWindow'>关闭页面</option>
            </select>
            <select class='form-control' ng-switch-default ng-model='activeWrap.schema.next' ng-change="updWrap()">
                <option value=''>不跳转</option>
                <option value='{{p.name}}' ng-repeat="p in nextPages">{{p.title}}</option>
                <option value='repos'>所有数据页</option>
                <option value='rank'>排行榜</option>
                <option value='score'>测验结果</option>
                <option value='closeWindow'>关闭页面</option>
            </select>
        </div>
    </div>
    <div class="form-group" ng-show="'sendInvite'===activeWrap.schema.name">
        <label>操作后</label>
        <select class='form-control' ng-model='activeWrap.schema.accept' ng-change="updWrap()">
            <option value='{{p.name}}' ng-repeat="p in nextPages">{{p.title}}</option>
            <option value='closeWindow'>关闭页面</option>
        </select>
    </div>
</div>
