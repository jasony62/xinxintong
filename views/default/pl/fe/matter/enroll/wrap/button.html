<div ng-controller="ctrlButtonWrap">
    <div class="form-group">
        <label>操作类型</label>
        <select class='form-control' ng-model='activeWrap.schema.name' ng-options='btn.n as btn.l for btn in buttons' ng-change="chooseType()"></select>
    </div>
    <div class="form-group">
        <label>显示为</label>
        <input type='text' class='form-control' ng-model='activeWrap.schema.label' ng-change="updWrap('schema','label')">
    </div>
    <div class="form-group" ng-show="['closeWindow'].indexOf(activeWrap.schema.name)===-1">
        <label>操作后</label>
        <div class='input-group' ng-switch on="activeWrap.schema.name">
            <select class='form-control' ng-switch-when="submit" ng-model='activeWrap.schema.next' ng-change="updWrap('schema','next')">
                <option value=''>不跳转</option>
                <option value='{{p.name}}' ng-repeat="p in app.pages">{{p.title}}</option>
                <option value='repos'>所有数据页</option>
                <option value='_autoForward'>自动跳转</option>
                <option value='closeWindow'>关闭页面</option>
            </select>
            <select class='form-control' ng-switch-when="addRecord" ng-model='activeWrap.schema.next' ng-change="updWrap('schema','next')">
                <option value='{{p.name}}' ng-repeat="p in app.pages">{{p.title}}</option>
                <option value='closeWindow'>关闭页面</option>
            </select>
            <select class='form-control' ng-switch-when="editRecord" ng-model='activeWrap.schema.next' ng-change="updWrap('schema','next')">
                <option value='{{p.name}}' ng-repeat="p in app.pages">{{p.title}}</option>
                <option value='closeWindow'>关闭页面</option>
            </select>
            <select class='form-control' ng-switch-default ng-model='activeWrap.schema.next' ng-change="updWrap('schema','next')">
                <option value=''>不跳转</option>
                <option value='{{p.name}}' ng-repeat="p in app.pages">{{p.title}}</option>
                <option value='remark'>评论页</option>
                <option value='repos'>所有数据页</option>
                <option value='closeWindow'>关闭页面</option>
            </select>
            <span class="input-group-btn">
                <button class="btn btn-default" type="button" ng-click="newPage('next')">+</button>
            </span>
        </div>
    </div>
    <div class="form-group" ng-show="'sendInvite'===activeWrap.schema.name">
        <label>操作后</label>
        <div class='input-group'>
            <select class='form-control' ng-model='activeWrap.schema.accept' ng-change="updWrap('schema','accept')">
                <option value='{{p.name}}' ng-repeat="p in app.pages">{{p.title}}</option>
                <option value='closeWindow'>关闭页面</option>
            </select>
            <span class="input-group-btn">
                <button class="btn btn-default" type="button" ng-click="newPage('accept')">+</button>
            </span>
        </div>
    </div>
</div>
