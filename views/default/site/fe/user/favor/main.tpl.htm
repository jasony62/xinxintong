<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width,user-scalable=no,initial-scale=1.0" name="viewport">
        <base href="/" />
        <title>我的收藏</title>
        <link href="/static/css/bootstrap.min.css" rel="stylesheet">
        <style id='loadingStyle'>
        @keyframes loadingRunning{0%{transform:rotate(0deg)}12%{transform:rotate(45deg)}25%{transform:rotate(90deg)}37%{transform:rotate(135deg)}50%{transform:rotate(180deg)}62%{transform:rotate(225deg)}75%{transform:rotate(270deg)}87%{transform:rotate(315deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes loadingRunning{0%{-webkit-transform:rotate(0deg)}12%{-webkit-transform:rotate(45deg)}25%{-webkit-transform:rotate(90deg)}37%{-webkit-transform:rotate(135deg)}50%{-webkit-transform:rotate(180deg)}62%{-webkit-transform:rotate(225deg)}75%{-webkit-transform:rotate(270deg)}87%{-webkit-transform:rotate(315deg)}100%{-webkit-transform:rotate(360deg)}}.loading{position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(224,224,224,0.9)}.loading-indicator{position:absolute;top:50%;left:50%;margin-left:-25px;margin-top:-25px;width:50px;height:50px;animation:loadingRunning 1s infinite;-webkit-animation:loadingRunning 1s infinite}.loading-indicator:before{content:"";display:block;width:50px;height:25px;padding:5px;padding-bottom:0;box-sizing:border-box;border-top-left-radius:25px;border-top-right-radius:25px;background:-webkit-linear-gradient(0deg,#999,#bbb)}.loading-indicator:after{content:"";display:block;width:50px;height:25px;padding:5px;padding-top:0;box-sizing:border-box;border-bottom-left-radius:25px;border-bottom-right-radius:25px;background:-webkit-linear-gradient(0deg,#eee,#bbb)}.loading-indicator>i{display:block;position:absolute;width:40px;height:40px;background:#eee;top:5px;left:5px;border-radius:20px}
        </style>
        <style>
            html,body,.container{height:100%;width:100%}
            body{font-family:"Microsoft YaHei","HSimHei";}
            .row-my{
                margin-top: 1em;
                padding: 0 6em;
            }
            .row-my .mission{
                margin-bottom: 2em;
                border-top:1px solid #ddd ;
                border-bottom:1px solid #ddd ;
                padding: .5em .5em;
            }
            .text-summary{
                height: 4.5em;
                overflow: hidden;
            }
            .media-left-my{
                width: 20%;
            }
            /*app*/
            .media-my{
                margin-top: 2em;
                background: #FFFFFF;
                padding: 1em;
                cursor: pointer;
            }
            .media-my .mission{
                margin-top: 1em;
            }

        </style>
    </head>
    
    <body>
        <div class="loading"><div class='loading-indicator'><i></i></div></div>
        <div class="container" ng-app="app" ng-controller='ctrlFav'>
            <!--pc端-->
            <div class="row-my" ng-if="state===0">
                <h3>我的收藏</h3>
                <div class="row">
                    <div class="col-md-4 col-xs-6 " ng-repeat="m in matters">
                        <div class="thumbnail">
                            <!--<img src="..." alt="...">-->
                            <div class="caption">
                                <h4 ng-bind="m.matter_title"></h4>
                                <p class="text-justify text-summary">详情: justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibn mi porta gravida at eget metus. Nullam id dolor id nibh ultricies </p>
                                <h5 class="mission">
                                    <span>项目名称</span>
                                    <!--<span class="pull-right">创建日期</span>-->
                                    <span class="pull-right" ng-bind="m.favor_at|date:'yy-MM-dd'"></span>
                                </h5>
                                <p>
                                    <button type="button" class="btn btn-default" role="button" ng-click="openMatter(m.matter_id,m.matter_type)">详情</button>
                                    <!--收藏+取消收藏参看单图文-->
                                    <button type="button" class="btn btn-default" role="button" ng-click="removeFavor(m.matter_id,m.matter_type,$index)">取消收藏</button>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class='col-md-12'>
                    <span style='height:34px;line-height:34px'>总数：{{page.total}}</span>
                    <ul uib-pagination style="margin:0;vertical-align:bottom;cursor:pointer" class='pull-right' ng-show="page.total>page.size" boundary-links="true" total-items="page.total" max-size="7" items-per-page="page.size" rotate="false" ng-model="page.at" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" ng-change="list()"></ul>
                </div>
            </div>
            <!--手机端-->
            <div ng-if="state===1">
                <h3>我的收藏</h3>
                <div class="media-my" ng-repeat="m in matters">
                    <div class="media"  ng-click="openMatter(m.matter_id,m.matter_type)">
                        <div class="media-left media-left-my" ng-if="m.matter_pic">
                            <!--<a href="#">-->
                            <img class="media-object img-responsive"  ng-src="m.matter_pic" alt="...">
                            <!--</a>-->
                        </div>
                        <div class="media-body">
                            <h4 class="media-heading" ng-bind="m.matter_title"></h4>
                            <p class="text-justify text-summary" ng-if="m.matter_summary" ng-bind="m.matter_summary"></p>
                        </div>
                    </div>
                    <p class="mission">
                        <span ng-bind="m.favor_at|date:'yy-MM-dd'"></span>
                        <!--收藏+取消收藏参看单图文-->
                        <button  type="button" class="btn btn-xs btn-default  pull-right" role="button" ng-click="removeFavor(m.matter_id,m.matter_type,$index)">取消收藏</button>
                    </p>
                </div>
                <div class='col-md-12'>
                    <span style='height:34px;line-height:34px'>总数：{{page.total}}</span>
                    <ul uib-pagination style="margin:0;vertical-align:bottom;cursor:pointer" class='pull-right' ng-show="page.total>page.size" boundary-links="true" total-items="page.total" max-size="3" items-per-page="page.size" rotate="false" ng-model="page.at" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" ng-change="list()"></ul>
                </div>
            </div>
        </div>
        <script src="/static/js/require.js" defer async data-main="/views/default/site/fe/user/favor/main-loader.js?_=1"></script>
    </body>
</html>