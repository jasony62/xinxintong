<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width,user-scalable=no,initial-scale=1.0" name="viewport">
        <base href="/" />
        <title>用户主页</title>
        <link href="/static/css/bootstrap.min.css" rel="stylesheet">
        <style id='loadingStyle'>
        @keyframes loadingRunning{0%{transform:rotate(0deg)}12%{transform:rotate(45deg)}25%{transform:rotate(90deg)}37%{transform:rotate(135deg)}50%{transform:rotate(180deg)}62%{transform:rotate(225deg)}75%{transform:rotate(270deg)}87%{transform:rotate(315deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes loadingRunning{0%{-webkit-transform:rotate(0deg)}12%{-webkit-transform:rotate(45deg)}25%{-webkit-transform:rotate(90deg)}37%{-webkit-transform:rotate(135deg)}50%{-webkit-transform:rotate(180deg)}62%{-webkit-transform:rotate(225deg)}75%{-webkit-transform:rotate(270deg)}87%{-webkit-transform:rotate(315deg)}100%{-webkit-transform:rotate(360deg)}}.loading{position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(224,224,224,0.9)}.loading-indicator{position:absolute;top:50%;left:50%;margin-left:-25px;margin-top:-25px;width:50px;height:50px;animation:loadingRunning 1s infinite;-webkit-animation:loadingRunning 1s infinite}.loading-indicator:before{content:"";display:block;width:50px;height:25px;padding:5px;padding-bottom:0;box-sizing:border-box;border-top-left-radius:25px;border-top-right-radius:25px;background:-webkit-linear-gradient(0deg,#999,#bbb)}.loading-indicator:after{content:"";display:block;width:50px;height:25px;padding:5px;padding-top:0;box-sizing:border-box;border-bottom-left-radius:25px;border-bottom-right-radius:25px;background:-webkit-linear-gradient(0deg,#eee,#bbb)}.loading-indicator>i{display:block;position:absolute;width:40px;height:40px;background:#eee;top:5px;left:5px;border-radius:20px}
        </style>
        <style>
            html,body{height:100%;width:100%}
            body{font-family:"Microsoft YaHei","HSimHei";}
            .avatar{text-align:center}
            .avatar .headimg{width:64px;height:64px;}
            .avatar .nickname{line-height:4em;}
        </style>
    </head>
    
    <body>
        <div class="loading"><div class='loading-indicator'><i></i></div></div>
        <div class="container" ng-app="app" ng-controller='ctrlMain'>
            <nav class='navbar navbar-default'>
                <div class='container-fluid'>
                    <div class="navbar-header">
                        <a class='navbar-brand' href='/rest/site/home?site={{site.id}}' target='_self'>{{site.name}}</a>
                    </div>
                </div>
            </nav>
            <div class='avatar'>
                <img class='headimg img-circle' ng-src="{{user.headimgurl}}">
                <div class='nickname' ng-bind="user.uname"></div>
            </div>
            <div class='form-group'>
                <div class='list-group-item'>
                    积分：<span ng-bind="user.coin"></span>
                </div>
                <div class='list-group-item'>
                    <a href="/rest/site/fe/user/favor?site={{site.id}}">我的收藏</a>
                </div>
                <div class='list-group-item'>
                    <a href="" ng-click="userSetting=!userSetting">个人设置</a>
                </div>
            </div>
            <div ng-if="userSetting">
                <hr>
                <div class='form-group'>
                    <input type='text' class='form-control input-lg' name='nickname' ng-model="user.nickname" placeholder='用户昵称'>
                </div>
                <div class='form-group'>
                    <button class="btn btn-lg btn-block btn-success" ng-click="changeNickname()">修改昵称</button>
                </div>
                <hr>
                <div class='form-group'>
                    <input type='password' class='form-control input-lg' name='password' ng-model="user.password" ng-minlength='6' ng-maxlength='16' placeholder='输入6-16位登录密码'>
                </div>
                <div class='form-group'>
                    <input type='password' class='form-control input-lg' ng-pattern="repeatPwd" name='password2' ng-model="password2" placeholder='再次输入登录密码'/>
                </div>
                <div class='form-group'>
                    <button class="btn btn-lg btn-block btn-success" ng-click="changePwd()">修改登录密码</button>
                </div>
            </div>
        </div>
        <script src="/static/js/require.js" defer async data-main="/views/default/site/fe/user/main-loader.js?_=1"></script>
    </body>
</html>