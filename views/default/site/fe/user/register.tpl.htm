<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta content="width=device-width,user-scalable=no,initial-scale=1.0" name="viewport">
    <base href="/" />
    <title>用户注册</title>
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="<?php echo auto_version('/static/css/site.fe.css');?>" rel="stylesheet">
</head>

<body ng-app="app" ng-controller='ctrlReg'>
    <div class="loading">
        <div class='loading-indicator'><i></i></div>
    </div>
    <nav class='navbar site-navbar-default'>
        <div class='container-fluid'>
            <div class="navbar-header">
                <a class='navbar-brand' href='/rest/site/home?site={{site.id}}' target='_self'>{{site.name}}</a>
            </div>
        </div>
    </nav>
    <div class="container-fluid ng-cloak" ng-cloak>
        <div class='alert alert-danger' ng-class="{'active':errmsg}" ng-click="errmsg=''" ng-bind='errmsg' ng-show='errmsg'></div>
        <div class='row'>
            <div class='col-md-4 col-md-offset-4'>
                <form class='form-horizontal'>
                    <div class='form-group'>
                        <label class="col-md-3 control-label">注册帐号</label>
                        <div class="col-md-9">
                            <input type="text" class='form-control' name='uname' placeholder='输入用于登录的帐号名' ng-model='uname' required autofocus/>
                            <p class='help-block'>仅限电子邮箱或手机号注册</p>
                        </div>
                    </div>
                    <div class='form-group'>
                        <label class="col-md-3 control-label">帐号昵称</label>
                        <div class="col-md-9">
                            <input type="text" class='form-control' name='nickname' placeholder='帐号昵称' ng-model="nickname">
                        </div>
                    </div>
                    <div class='form-group'>
                        <label class="col-md-3 control-label">登录密码</label>
                        <div class="col-md-9">
                            <input type='password' class='form-control' name='password' ng-model='password' ng-minlength='6' ng-maxlength='16' required/>
                            <p class='help-block'>输入6-16位登录密码</p>
                        </div>
                    </div>
                    <div class='form-group'>
                        <label class="col-md-3 control-label">重复密码</label>
                        <div class="col-md-9">
                            <input type='password' class='form-control' ng-pattern="repeatPwd" name='password2' ng-model='password2' placeholder='再次输入登录密码' required/>
                        </div>
                    </div>
                </form>
                <div class='form-group'>
                    <button class="btn btn-primary btn-block" ng-disabled="user.loginExpire" ng-click='register()'>注册</button>
                    <button class="btn btn-primary btn-block" ng-click='gotoLogin()'>已有账号，去登录</button>
                    <button class="btn btn-default btn-block" ng-click="gotoHome()">返回我的首页</button>
                </div>
                <div class='form-group' ng-if="user.loginExpire">
                    <p class='alert alert-warning'>请退出当前帐号后，再注册新帐号，<a href='' ng-click="logout()">退出</a></p>
                </div>
            </div>
        </div>
    </div>
    <script src="/static/js/require.js" defer async data-main="/views/default/site/fe/user/register-loader.js?_=3"></script>
</body>

</html>